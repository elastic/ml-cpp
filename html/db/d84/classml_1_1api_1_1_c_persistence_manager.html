<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ML C++: ml::api::CPersistenceManager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../ml.ico"/></td>
  <td id="projectalign">
   <div id="projectname">ML C++<span id="projectnumber">&#160;8.15.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d4/da6/namespaceml.html">ml</a></li><li class="navelem"><a class="el" href="../../d8/d2b/namespaceml_1_1api.html">api</a></li><li class="navelem"><a class="el" href="../../db/d84/classml_1_1api_1_1_c_persistence_manager.html">CPersistenceManager</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../db/df1/classml_1_1api_1_1_c_persistence_manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ml::api::CPersistenceManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Manages the details of persisting data where the data adder may optionally run in a different thread.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d9/db1/_c_persistence_manager_8h_source.html">CPersistenceManager.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for ml::api::CPersistenceManager:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/df5/classml_1_1api_1_1_c_persistence_manager__inherit__graph.svg" width="208" height="111"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for ml::api::CPersistenceManager:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d3e/classml_1_1api_1_1_c_persistence_manager__coll__graph.svg" width="100%" height="467"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dba/classml_1_1api_1_1_c_persistence_manager_1_1_c_background_thread.html">CBackgroundThread</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the background thread.  <a href="../../d5/dba/classml_1_1api_1_1_c_persistence_manager_1_1_c_background_thread.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9cbab2cc89b039abfff9935a0cc9e137" id="r_a9cbab2cc89b039abfff9935a0cc9e137"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">TFirstProcessorPeriodicPersistFunc</a> = std::function&lt;bool(<a class="el" href="../../db/d84/classml_1_1api_1_1_c_persistence_manager.html">CPersistenceManager</a>&amp;)&gt;</td></tr>
<tr class="separator:a9cbab2cc89b039abfff9935a0cc9e137"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a378f9b6c0e316c7f6a60ea2e1f807632" id="r_a378f9b6c0e316c7f6a60ea2e1f807632"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a378f9b6c0e316c7f6a60ea2e1f807632">CPersistenceManager</a> (<a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a> periodicPersistInterval, bool persistInForeground, <a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a> &amp;bgDataAdder, <a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a> &amp;fgDataAdder, std::size_t bucketPersistInterval=0)</td></tr>
<tr class="separator:a378f9b6c0e316c7f6a60ea2e1f807632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe1893731418b58c3520a7e51fc22cb5" id="r_afe1893731418b58c3520a7e51fc22cb5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe1893731418b58c3520a7e51fc22cb5">CPersistenceManager</a> (<a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a> periodicPersistInterval, bool persistInForeground, <a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a> &amp;dataAdder, std::size_t bucketPersistInterval=0)</td></tr>
<tr class="memdesc:afe1893731418b58c3520a7e51fc22cb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">As above, but using the same data adder for both foreground and background persistence.  <br /></td></tr>
<tr class="separator:afe1893731418b58c3520a7e51fc22cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc58804375e569a2a0fbb170f250e24" id="r_a3dc58804375e569a2a0fbb170f250e24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3dc58804375e569a2a0fbb170f250e24">~CPersistenceManager</a> ()</td></tr>
<tr class="separator:a3dc58804375e569a2a0fbb170f250e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1ba61de9599d565cd6f8bd595aa23f" id="r_a0c1ba61de9599d565cd6f8bd595aa23f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c1ba61de9599d565cd6f8bd595aa23f">isBusy</a> () const</td></tr>
<tr class="memdesc:a0c1ba61de9599d565cd6f8bd595aa23f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is background persistence currently in progress?  <br /></td></tr>
<tr class="separator:a0c1ba61de9599d565cd6f8bd595aa23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539ee0ae2e961f8431c51d11a7d13111" id="r_a539ee0ae2e961f8431c51d11a7d13111"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a539ee0ae2e961f8431c51d11a7d13111">waitForIdle</a> ()</td></tr>
<tr class="separator:a539ee0ae2e961f8431c51d11a7d13111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a171e59a16782c90daed1a26f86e37068" id="r_a171e59a16782c90daed1a26f86e37068"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a171e59a16782c90daed1a26f86e37068">useBackgroundPersistence</a> ()</td></tr>
<tr class="memdesc:a171e59a16782c90daed1a26f86e37068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure persistence to be performed in the background.  <br /></td></tr>
<tr class="separator:a171e59a16782c90daed1a26f86e37068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed37bfbdd625c31ad8814af6a780f5b9" id="r_aed37bfbdd625c31ad8814af6a780f5b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed37bfbdd625c31ad8814af6a780f5b9">useForegroundPersistence</a> ()</td></tr>
<tr class="memdesc:aed37bfbdd625c31ad8814af6a780f5b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure persistence to be performed in the foreground.  <br /></td></tr>
<tr class="separator:aed37bfbdd625c31ad8814af6a780f5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a723188ea0d10c33e9955e4452ecc6010" id="r_a723188ea0d10c33e9955e4452ecc6010"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a723188ea0d10c33e9955e4452ecc6010">addPersistFunc</a> (<a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html#a4df8227a7b81074a6572ed9e92aa57dd">core::CDataAdder::TPersistFunc</a> persistFunc)</td></tr>
<tr class="separator:a723188ea0d10c33e9955e4452ecc6010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f200ed3f39a1bf0139f392cf29ee38" id="r_a90f200ed3f39a1bf0139f392cf29ee38"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90f200ed3f39a1bf0139f392cf29ee38">firstProcessorBackgroundPeriodicPersistFunc</a> (const <a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">TFirstProcessorPeriodicPersistFunc</a> &amp;firstProcessorPeriodicPersistFunc)</td></tr>
<tr class="separator:a90f200ed3f39a1bf0139f392cf29ee38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3918e5da481e53a55ba84787a8910a39" id="r_a3918e5da481e53a55ba84787a8910a39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3918e5da481e53a55ba84787a8910a39">firstProcessorForegroundPeriodicPersistFunc</a> (const <a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">TFirstProcessorPeriodicPersistFunc</a> &amp;firstProcessorPeriodicPersistFunc)</td></tr>
<tr class="separator:a3918e5da481e53a55ba84787a8910a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af02e6b9a2d4f228ad0f3e0a60837c7f3" id="r_af02e6b9a2d4f228ad0f3e0a60837c7f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af02e6b9a2d4f228ad0f3e0a60837c7f3">startPersistIfAppropriate</a> ()</td></tr>
<tr class="separator:af02e6b9a2d4f228ad0f3e0a60837c7f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebbafee4744da81c7d8a2bd73ede7d3" id="r_abebbafee4744da81c7d8a2bd73ede7d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abebbafee4744da81c7d8a2bd73ede7d3">startPersist</a> (<a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a> timeOfPersistence)</td></tr>
<tr class="separator:abebbafee4744da81c7d8a2bd73ede7d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0114a61910d73ee40205d000766fd117" id="r_a0114a61910d73ee40205d000766fd117"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0114a61910d73ee40205d000766fd117">doForegroundPersist</a> (<a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html#a4df8227a7b81074a6572ed9e92aa57dd">core::CDataAdder::TPersistFunc</a> persistFunc)</td></tr>
<tr class="separator:a0114a61910d73ee40205d000766fd117"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a3f6678e5e8078fddd349c93a1c4cb9be" id="r_a3f6678e5e8078fddd349c93a1c4cb9be"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f6678e5e8078fddd349c93a1c4cb9be">TPersistFuncList</a> = std::list&lt;<a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html#a4df8227a7b81074a6572ed9e92aa57dd">core::CDataAdder::TPersistFunc</a>&gt;</td></tr>
<tr class="separator:a3f6678e5e8078fddd349c93a1c4cb9be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac925c727d5cdde0ad2f2c230e84a0957" id="r_ac925c727d5cdde0ad2f2c230e84a0957"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac925c727d5cdde0ad2f2c230e84a0957">startPersistInBackground</a> ()</td></tr>
<tr class="separator:ac925c727d5cdde0ad2f2c230e84a0957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ce46e168e18cbf699967f69d758d32" id="r_af8ce46e168e18cbf699967f69d758d32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8ce46e168e18cbf699967f69d758d32">startPersist</a> ()</td></tr>
<tr class="memdesc:af8ce46e168e18cbf699967f69d758d32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the registered persistence functions now.  <br /></td></tr>
<tr class="separator:af8ce46e168e18cbf699967f69d758d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96be2d1f0598294eee8c4c8313bc7604" id="r_a96be2d1f0598294eee8c4c8313bc7604"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96be2d1f0598294eee8c4c8313bc7604">clear</a> ()</td></tr>
<tr class="separator:a96be2d1f0598294eee8c4c8313bc7604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classml_1_1core_1_1_c_non_copyable"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classml_1_1core_1_1_c_non_copyable')"><img src="../../closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="../../d0/d45/classml_1_1core_1_1_c_non_copyable.html">ml::core::CNonCopyable</a></td></tr>
<tr class="memitem:a099f1db371177ffb36520a8eb4b4dc82 inherit pub_methods_classml_1_1core_1_1_c_non_copyable" id="r_a099f1db371177ffb36520a8eb4b4dc82"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d45/classml_1_1core_1_1_c_non_copyable.html#a099f1db371177ffb36520a8eb4b4dc82">CNonCopyable</a> ()=default</td></tr>
<tr class="memdesc:a099f1db371177ffb36520a8eb4b4dc82 inherit pub_methods_classml_1_1core_1_1_c_non_copyable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inlined in the hope that the compiler will optimise it away.  <br /></td></tr>
<tr class="separator:a099f1db371177ffb36520a8eb4b4dc82 inherit pub_methods_classml_1_1core_1_1_c_non_copyable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab99c01235d8af0ecf6379c4f38e5c385 inherit pub_methods_classml_1_1core_1_1_c_non_copyable" id="r_ab99c01235d8af0ecf6379c4f38e5c385"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d45/classml_1_1core_1_1_c_non_copyable.html#ab99c01235d8af0ecf6379c4f38e5c385">~CNonCopyable</a> ()=default</td></tr>
<tr class="memdesc:ab99c01235d8af0ecf6379c4f38e5c385 inherit pub_methods_classml_1_1core_1_1_c_non_copyable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inlined in the hope that the compiler will optimise it away.  <br /></td></tr>
<tr class="separator:ab99c01235d8af0ecf6379c4f38e5c385 inherit pub_methods_classml_1_1core_1_1_c_non_copyable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6f0e6c35c504a2483fe79dfd828f1b8b" id="r_a6f0e6c35c504a2483fe79dfd828f1b8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f0e6c35c504a2483fe79dfd828f1b8b">m_PeriodicPersistInterval</a></td></tr>
<tr class="memdesc:a6f0e6c35c504a2483fe79dfd828f1b8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">How frequently should persistence be attempted?  <br /></td></tr>
<tr class="separator:a6f0e6c35c504a2483fe79dfd828f1b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27126a3c7a29cb5239caf56c9f375248" id="r_a27126a3c7a29cb5239caf56c9f375248"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27126a3c7a29cb5239caf56c9f375248">m_PersistInForeground</a></td></tr>
<tr class="memdesc:a27126a3c7a29cb5239caf56c9f375248"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should persistence occur in the foreground?  <br /></td></tr>
<tr class="separator:a27126a3c7a29cb5239caf56c9f375248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bd4f429c70c4e54df9c5088f04b46b" id="r_ac8bd4f429c70c4e54df9c5088f04b46b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8bd4f429c70c4e54df9c5088f04b46b">m_LastPeriodicPersistTime</a></td></tr>
<tr class="separator:ac8bd4f429c70c4e54df9c5088f04b46b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7bc84b282cab4c694b4bd53e42f557" id="r_a2b7bc84b282cab4c694b4bd53e42f557"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b7bc84b282cab4c694b4bd53e42f557">m_BucketPersistInterval</a></td></tr>
<tr class="memdesc:a2b7bc84b282cab4c694b4bd53e42f557"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many buckets must be processed between background persistence attempts.  <br /></td></tr>
<tr class="separator:a2b7bc84b282cab4c694b4bd53e42f557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd4b6a9143c1e339d381fc99cc8eb00" id="r_a2fd4b6a9143c1e339d381fc99cc8eb00"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2fd4b6a9143c1e339d381fc99cc8eb00">m_NumberBucketsUntilNextPersist</a></td></tr>
<tr class="memdesc:a2fd4b6a9143c1e339d381fc99cc8eb00"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many buckets left to process before attempting the next background persist?  <br /></td></tr>
<tr class="separator:a2fd4b6a9143c1e339d381fc99cc8eb00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ce6de6c712a5fd703918199bfec2ac" id="r_ac3ce6de6c712a5fd703918199bfec2ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">TFirstProcessorPeriodicPersistFunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3ce6de6c712a5fd703918199bfec2ac">m_FirstProcessorBackgroundPeriodicPersistFunc</a></td></tr>
<tr class="separator:ac3ce6de6c712a5fd703918199bfec2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa49b517d2e5ef11488c12d47cfe9c3ce" id="r_aa49b517d2e5ef11488c12d47cfe9c3ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">TFirstProcessorPeriodicPersistFunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa49b517d2e5ef11488c12d47cfe9c3ce">m_FirstProcessorForegroundPeriodicPersistFunc</a></td></tr>
<tr class="separator:aa49b517d2e5ef11488c12d47cfe9c3ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeccd2697734d150c3b87d495b5dd849" id="r_aaeccd2697734d150c3b87d495b5dd849"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaeccd2697734d150c3b87d495b5dd849">m_BgDataAdder</a></td></tr>
<tr class="separator:aaeccd2697734d150c3b87d495b5dd849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86396f6d44544a0c7e63390d292e2796" id="r_a86396f6d44544a0c7e63390d292e2796"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86396f6d44544a0c7e63390d292e2796">m_FgDataAdder</a></td></tr>
<tr class="separator:a86396f6d44544a0c7e63390d292e2796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2da5f0140beab1bd74642b367ea09f9d" id="r_a2da5f0140beab1bd74642b367ea09f9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d7d/classml_1_1core_1_1_c_fast_mutex.html">core::CFastMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2da5f0140beab1bd74642b367ea09f9d">m_Mutex</a></td></tr>
<tr class="memdesc:a2da5f0140beab1bd74642b367ea09f9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to ensure atomicity of operations where required.  <br /></td></tr>
<tr class="separator:a2da5f0140beab1bd74642b367ea09f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58a43f23665dfffce1b7f63b6321a407" id="r_a58a43f23665dfffce1b7f63b6321a407"><td class="memItemLeft" align="right" valign="top">std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58a43f23665dfffce1b7f63b6321a407">m_IsBusy</a></td></tr>
<tr class="memdesc:a58a43f23665dfffce1b7f63b6321a407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the background thread currently busy persisting data?  <br /></td></tr>
<tr class="separator:a58a43f23665dfffce1b7f63b6321a407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcdfdbd72b84ce933f5a3d0ea9e826c5" id="r_adcdfdbd72b84ce933f5a3d0ea9e826c5"><td class="memItemLeft" align="right" valign="top">std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcdfdbd72b84ce933f5a3d0ea9e826c5">m_IsShutdown</a></td></tr>
<tr class="memdesc:adcdfdbd72b84ce933f5a3d0ea9e826c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Have we been told to shut down?  <br /></td></tr>
<tr class="separator:adcdfdbd72b84ce933f5a3d0ea9e826c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68277d2518702d79642e2f24eb7e14cd" id="r_a68277d2518702d79642e2f24eb7e14cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a3f6678e5e8078fddd349c93a1c4cb9be">TPersistFuncList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68277d2518702d79642e2f24eb7e14cd">m_PersistFuncs</a></td></tr>
<tr class="memdesc:a68277d2518702d79642e2f24eb7e14cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions to call to do persistence.  <br /></td></tr>
<tr class="separator:a68277d2518702d79642e2f24eb7e14cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f6f1ef470939a398fe5170c478715a" id="r_a29f6f1ef470939a398fe5170c478715a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dba/classml_1_1api_1_1_c_persistence_manager_1_1_c_background_thread.html">CBackgroundThread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29f6f1ef470939a398fe5170c478715a">m_BackgroundThread</a></td></tr>
<tr class="memdesc:a29f6f1ef470939a398fe5170c478715a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread used to do the background work.  <br /></td></tr>
<tr class="separator:a29f6f1ef470939a398fe5170c478715a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ae471338259521f84ad08ad15ef3cee8f" id="r_ae471338259521f84ad08ad15ef3cee8f"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae471338259521f84ad08ad15ef3cee8f">CBackgroundThread</a></td></tr>
<tr class="separator:ae471338259521f84ad08ad15ef3cee8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9df02baeb4bffef7df2f9aa5946e064" id="r_ae9df02baeb4bffef7df2f9aa5946e064"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9df02baeb4bffef7df2f9aa5946e064">CPersistenceManagerTest::CTestFixture</a></td></tr>
<tr class="separator:ae9df02baeb4bffef7df2f9aa5946e064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6391c20e74cc980e165bf8eede2ca0f" id="r_ab6391c20e74cc980e165bf8eede2ca0f"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6391c20e74cc980e165bf8eede2ca0f">CPersistenceManagerTest::testCategorizationOnlyPersist</a></td></tr>
<tr class="separator:ab6391c20e74cc980e165bf8eede2ca0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016754d74780c710f18b21d944c9c1ae" id="r_a016754d74780c710f18b21d944c9c1ae"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a016754d74780c710f18b21d944c9c1ae">CPersistenceManagerTest::testBackgroundPersistCategorizationConsistency</a></td></tr>
<tr class="separator:a016754d74780c710f18b21d944c9c1ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages the details of persisting data where the data adder may optionally run in a different thread. </p>
<p>DESCRIPTION:<br  />
A wrapper around <a class="el" href="../../dd/d6b/classml_1_1core_1_1_c_thread.html" title="Basic wrapper class around pthread_create etc.">core::CThread</a> to hide the gory details of running a data adder in the background.</p>
<p>Only one background persistence may run at any time. This is partly to avoid clashes in whatever external data store state is being persisted to, and partly because the chances are that a lot of memory is being used by the temporary copy of the data to be persisted.</p>
<p>Persistence may happen in a background thread and if so further persistence requests via the startPersist*() methods will be rejected if the background thread is executing. However, calls to <a class="el" href="#af8ce46e168e18cbf699967f69d758d32" title="Execute the registered persistence functions now.">startPersist()</a> and <a class="el" href="#af02e6b9a2d4f228ad0f3e0a60837c7f3">startPersistIfAppropriate()</a> are not thread safe and must not be made concurrently.</p>
<p>IMPLEMENTATION DECISIONS:<br  />
This class expects to call a persistence function taking just the data adder as an argument. It's easy to wrap up extra data to be passed to a function that requires more by using a std::bind. std::bind copies its arguments, which is generally what is required for access in a separate thread. However, note that a couple of copies are made, so if the bound data is very large then binding a std::shared_ptr may be more appropriate than binding values. Alternatively, if foreground persistence is preferred, the data is not required to be copied and the bound function can safely be passed its arguments by reference.</p>
<p>A data adder must be supplied to the constructor, and, since this is held by reference it must outlive this object. If the data adder is not thread safe then it may not be used by any other object until after this object is destroyed. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a9cbab2cc89b039abfff9935a0cc9e137" name="a9cbab2cc89b039abfff9935a0cc9e137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cbab2cc89b039abfff9935a0cc9e137">&#9670;&#160;</a></span>TFirstProcessorPeriodicPersistFunc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">ml::api::CPersistenceManager::TFirstProcessorPeriodicPersistFunc</a> = std::function&lt;bool(<a class="el" href="../../db/d84/classml_1_1api_1_1_c_persistence_manager.html">CPersistenceManager</a>&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f6678e5e8078fddd349c93a1c4cb9be" name="a3f6678e5e8078fddd349c93a1c4cb9be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f6678e5e8078fddd349c93a1c4cb9be">&#9670;&#160;</a></span>TPersistFuncList</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a3f6678e5e8078fddd349c93a1c4cb9be">ml::api::CPersistenceManager::TPersistFuncList</a> = std::list&lt;<a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html#a4df8227a7b81074a6572ed9e92aa57dd">core::CDataAdder::TPersistFunc</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a378f9b6c0e316c7f6a60ea2e1f807632" name="a378f9b6c0e316c7f6a60ea2e1f807632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a378f9b6c0e316c7f6a60ea2e1f807632">&#9670;&#160;</a></span>CPersistenceManager() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ml::api::CPersistenceManager::CPersistenceManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a></td>          <td class="paramname"><span class="paramname"><em>periodicPersistInterval</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>persistInForeground</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>bgDataAdder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>fgDataAdder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>bucketPersistInterval</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The supplied data adders must outlive this object. If the data adders are not thread safe then they may not be used by any other object until after this object is destroyed. When using this constructor the first processor persistence function must be set before the object is used. </p>

</div>
</div>
<a id="afe1893731418b58c3520a7e51fc22cb5" name="afe1893731418b58c3520a7e51fc22cb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe1893731418b58c3520a7e51fc22cb5">&#9670;&#160;</a></span>CPersistenceManager() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ml::api::CPersistenceManager::CPersistenceManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a></td>          <td class="paramname"><span class="paramname"><em>periodicPersistInterval</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>persistInForeground</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>dataAdder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>bucketPersistInterval</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>As above, but using the same data adder for both foreground and background persistence. </p>

</div>
</div>
<a id="a3dc58804375e569a2a0fbb170f250e24" name="a3dc58804375e569a2a0fbb170f250e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dc58804375e569a2a0fbb170f250e24">&#9670;&#160;</a></span>~CPersistenceManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ml::api::CPersistenceManager::~CPersistenceManager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a3dc58804375e569a2a0fbb170f250e24_cgraph.svg" width="636" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a723188ea0d10c33e9955e4452ecc6010" name="a723188ea0d10c33e9955e4452ecc6010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a723188ea0d10c33e9955e4452ecc6010">&#9670;&#160;</a></span>addPersistFunc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::addPersistFunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html#a4df8227a7b81074a6572ed9e92aa57dd">core::CDataAdder::TPersistFunc</a></td>          <td class="paramname"><span class="paramname"><em>persistFunc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a function to be called when persistence is started. This will be rejected if a background persistence is currently in progress. It is likely that the supplied <code>persistFunc</code> will have data bound into it that will be used by the function it calls, i.e. the called function will take more arguments than just the data adder. </p><dl class="section return"><dt>Returns</dt><dd>true if the function was added; false if not. </dd></dl>
<div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a723188ea0d10c33e9955e4452ecc6010_cgraph.svg" width="454" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a723188ea0d10c33e9955e4452ecc6010_icgraph.svg" width="100%" height="486"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a96be2d1f0598294eee8c4c8313bc7604" name="a96be2d1f0598294eee8c4c8313bc7604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96be2d1f0598294eee8c4c8313bc7604">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::clear </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clear any persistence functions that have been added but not yet invoked. This will be rejected if a background persistence is currently in progress. </p><dl class="section return"><dt>Returns</dt><dd>true if the list of functions is clear; false if not. </dd></dl>
<div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a96be2d1f0598294eee8c4c8313bc7604_cgraph.svg" width="454" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a96be2d1f0598294eee8c4c8313bc7604_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a0114a61910d73ee40205d000766fd117" name="a0114a61910d73ee40205d000766fd117"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0114a61910d73ee40205d000766fd117">&#9670;&#160;</a></span>doForegroundPersist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::doForegroundPersist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html#a4df8227a7b81074a6572ed9e92aa57dd">core::CDataAdder::TPersistFunc</a></td>          <td class="paramname"><span class="paramname"><em>persistFunc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start a foreground persist if a background one is not running, using the provided persistence function. </p>
<div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a0114a61910d73ee40205d000766fd117_cgraph.svg" width="454" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a0114a61910d73ee40205d000766fd117_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a90f200ed3f39a1bf0139f392cf29ee38" name="a90f200ed3f39a1bf0139f392cf29ee38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90f200ed3f39a1bf0139f392cf29ee38">&#9670;&#160;</a></span>firstProcessorBackgroundPeriodicPersistFunc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::firstProcessorBackgroundPeriodicPersistFunc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">TFirstProcessorPeriodicPersistFunc</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>firstProcessorPeriodicPersistFunc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the first processor persist function, which is used to start the chain of background persistence. This will be rejected if a background persistence is currently in progress. This should be set once before startBackgroundPersistIfAppropriate is called. </p>
<div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a90f200ed3f39a1bf0139f392cf29ee38_cgraph.svg" width="483" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3918e5da481e53a55ba84787a8910a39" name="a3918e5da481e53a55ba84787a8910a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3918e5da481e53a55ba84787a8910a39">&#9670;&#160;</a></span>firstProcessorForegroundPeriodicPersistFunc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::firstProcessorForegroundPeriodicPersistFunc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">TFirstProcessorPeriodicPersistFunc</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>firstProcessorPeriodicPersistFunc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-10" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a3918e5da481e53a55ba84787a8910a39_cgraph.svg" width="479" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0c1ba61de9599d565cd6f8bd595aa23f" name="a0c1ba61de9599d565cd6f8bd595aa23f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c1ba61de9599d565cd6f8bd595aa23f">&#9670;&#160;</a></span>isBusy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::isBusy </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is background persistence currently in progress? </p>
<div id="dynsection-11" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a0c1ba61de9599d565cd6f8bd595aa23f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af8ce46e168e18cbf699967f69d758d32" name="af8ce46e168e18cbf699967f69d758d32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ce46e168e18cbf699967f69d758d32">&#9670;&#160;</a></span>startPersist() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ml::api::CPersistenceManager::startPersist </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute the registered persistence functions now. </p>
<div id="dynsection-12" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_af8ce46e168e18cbf699967f69d758d32_icgraph.svg" width="100%" height="431"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abebbafee4744da81c7d8a2bd73ede7d3" name="abebbafee4744da81c7d8a2bd73ede7d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abebbafee4744da81c7d8a2bd73ede7d3">&#9670;&#160;</a></span>startPersist() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::startPersist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a></td>          <td class="paramname"><span class="paramname"><em>timeOfPersistence</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start a persist if a background one is not running. Calls the first processor periodic persist function first. Concurrent calls to this method are not threadsafe. </p>
<div id="dynsection-13" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_abebbafee4744da81c7d8a2bd73ede7d3_cgraph.svg" width="100%" height="590"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-14" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_abebbafee4744da81c7d8a2bd73ede7d3_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af02e6b9a2d4f228ad0f3e0a60837c7f3" name="af02e6b9a2d4f228ad0f3e0a60837c7f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af02e6b9a2d4f228ad0f3e0a60837c7f3">&#9670;&#160;</a></span>startPersistIfAppropriate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::startPersistIfAppropriate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the periodic persist interval has passed since the last persist then it is appropriate to persist now. Start it by calling the first processor periodic persist function. Concurrent calls to this method are not threadsafe. </p>
<div id="dynsection-15" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_af02e6b9a2d4f228ad0f3e0a60837c7f3_cgraph.svg" width="100%" height="498"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-16" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_af02e6b9a2d4f228ad0f3e0a60837c7f3_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac925c727d5cdde0ad2f2c230e84a0957" name="ac925c727d5cdde0ad2f2c230e84a0957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac925c727d5cdde0ad2f2c230e84a0957">&#9670;&#160;</a></span>startPersistInBackground()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::startPersistInBackground </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>When this function is called a background persistence will be triggered unless there is already one in progress. </p>
<div id="dynsection-17" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_ac925c727d5cdde0ad2f2c230e84a0957_cgraph.svg" width="454" height="338"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-18" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_ac925c727d5cdde0ad2f2c230e84a0957_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a171e59a16782c90daed1a26f86e37068" name="a171e59a16782c90daed1a26f86e37068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a171e59a16782c90daed1a26f86e37068">&#9670;&#160;</a></span>useBackgroundPersistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ml::api::CPersistenceManager::useBackgroundPersistence </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure persistence to be performed in the background. </p>
<div id="dynsection-19" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a171e59a16782c90daed1a26f86e37068_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aed37bfbdd625c31ad8814af6a780f5b9" name="aed37bfbdd625c31ad8814af6a780f5b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed37bfbdd625c31ad8814af6a780f5b9">&#9670;&#160;</a></span>useForegroundPersistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ml::api::CPersistenceManager::useForegroundPersistence </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure persistence to be performed in the foreground. </p>
<div id="dynsection-20" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_aed37bfbdd625c31ad8814af6a780f5b9_icgraph.svg" width="576" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a539ee0ae2e961f8431c51d11a7d13111" name="a539ee0ae2e961f8431c51d11a7d13111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a539ee0ae2e961f8431c51d11a7d13111">&#9670;&#160;</a></span>waitForIdle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::waitForIdle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for any background persistence currently in progress to complete </p>
<div id="dynsection-21" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a539ee0ae2e961f8431c51d11a7d13111_cgraph.svg" width="391" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-22" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/d84/classml_1_1api_1_1_c_persistence_manager_a539ee0ae2e961f8431c51d11a7d13111_icgraph.svg" width="100%" height="468"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="ae471338259521f84ad08ad15ef3cee8f" name="ae471338259521f84ad08ad15ef3cee8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae471338259521f84ad08ad15ef3cee8f">&#9670;&#160;</a></span>CBackgroundThread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class CBackgroundThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae9df02baeb4bffef7df2f9aa5946e064" name="ae9df02baeb4bffef7df2f9aa5946e064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9df02baeb4bffef7df2f9aa5946e064">&#9670;&#160;</a></span>CPersistenceManagerTest::CTestFixture</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class CPersistenceManagerTest::CTestFixture</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a016754d74780c710f18b21d944c9c1ae" name="a016754d74780c710f18b21d944c9c1ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016754d74780c710f18b21d944c9c1ae">&#9670;&#160;</a></span>CPersistenceManagerTest::testBackgroundPersistCategorizationConsistency</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct CPersistenceManagerTest::testBackgroundPersistCategorizationConsistency</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab6391c20e74cc980e165bf8eede2ca0f" name="ab6391c20e74cc980e165bf8eede2ca0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6391c20e74cc980e165bf8eede2ca0f">&#9670;&#160;</a></span>CPersistenceManagerTest::testCategorizationOnlyPersist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct CPersistenceManagerTest::testCategorizationOnlyPersist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a29f6f1ef470939a398fe5170c478715a" name="a29f6f1ef470939a398fe5170c478715a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29f6f1ef470939a398fe5170c478715a">&#9670;&#160;</a></span>m_BackgroundThread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dba/classml_1_1api_1_1_c_persistence_manager_1_1_c_background_thread.html">CBackgroundThread</a> ml::api::CPersistenceManager::m_BackgroundThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thread used to do the background work. </p>

</div>
</div>
<a id="aaeccd2697734d150c3b87d495b5dd849" name="aaeccd2697734d150c3b87d495b5dd849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeccd2697734d150c3b87d495b5dd849">&#9670;&#160;</a></span>m_BgDataAdder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a>&amp; ml::api::CPersistenceManager::m_BgDataAdder</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reference to the data adder to be used by the background thread. The data adder referred to must outlive this object. If the data adder is not thread safe then it may not be used by any other object until after this object is destroyed. </p>

</div>
</div>
<a id="a2b7bc84b282cab4c694b4bd53e42f557" name="a2b7bc84b282cab4c694b4bd53e42f557"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b7bc84b282cab4c694b4bd53e42f557">&#9670;&#160;</a></span>m_BucketPersistInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t ml::api::CPersistenceManager::m_BucketPersistInterval</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How many buckets must be processed between background persistence attempts. </p>

</div>
</div>
<a id="a86396f6d44544a0c7e63390d292e2796" name="a86396f6d44544a0c7e63390d292e2796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86396f6d44544a0c7e63390d292e2796">&#9670;&#160;</a></span>m_FgDataAdder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d48/classml_1_1core_1_1_c_data_adder.html">core::CDataAdder</a>&amp; ml::api::CPersistenceManager::m_FgDataAdder</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reference to the data adder to be used for foreground persistence. The data adder referred to must outlive this object. </p>

</div>
</div>
<a id="ac3ce6de6c712a5fd703918199bfec2ac" name="ac3ce6de6c712a5fd703918199bfec2ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ce6de6c712a5fd703918199bfec2ac">&#9670;&#160;</a></span>m_FirstProcessorBackgroundPeriodicPersistFunc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">TFirstProcessorPeriodicPersistFunc</a> ml::api::CPersistenceManager::m_FirstProcessorBackgroundPeriodicPersistFunc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The function that will be called to start the chain of persistence. </p>

</div>
</div>
<a id="aa49b517d2e5ef11488c12d47cfe9c3ce" name="aa49b517d2e5ef11488c12d47cfe9c3ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa49b517d2e5ef11488c12d47cfe9c3ce">&#9670;&#160;</a></span>m_FirstProcessorForegroundPeriodicPersistFunc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a9cbab2cc89b039abfff9935a0cc9e137">TFirstProcessorPeriodicPersistFunc</a> ml::api::CPersistenceManager::m_FirstProcessorForegroundPeriodicPersistFunc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a58a43f23665dfffce1b7f63b6321a407" name="a58a43f23665dfffce1b7f63b6321a407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58a43f23665dfffce1b7f63b6321a407">&#9670;&#160;</a></span>m_IsBusy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_bool ml::api::CPersistenceManager::m_IsBusy</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the background thread currently busy persisting data? </p>

</div>
</div>
<a id="adcdfdbd72b84ce933f5a3d0ea9e826c5" name="adcdfdbd72b84ce933f5a3d0ea9e826c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcdfdbd72b84ce933f5a3d0ea9e826c5">&#9670;&#160;</a></span>m_IsShutdown</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_bool ml::api::CPersistenceManager::m_IsShutdown</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Have we been told to shut down? </p>

</div>
</div>
<a id="ac8bd4f429c70c4e54df9c5088f04b46b" name="ac8bd4f429c70c4e54df9c5088f04b46b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8bd4f429c70c4e54df9c5088f04b46b">&#9670;&#160;</a></span>m_LastPeriodicPersistTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a> ml::api::CPersistenceManager::m_LastPeriodicPersistTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>What was the wall clock time when we started our last periodic persistence? </p>

</div>
</div>
<a id="a2da5f0140beab1bd74642b367ea09f9d" name="a2da5f0140beab1bd74642b367ea09f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2da5f0140beab1bd74642b367ea09f9d">&#9670;&#160;</a></span>m_Mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d7d/classml_1_1core_1_1_c_fast_mutex.html">core::CFastMutex</a> ml::api::CPersistenceManager::m_Mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex to ensure atomicity of operations where required. </p>

</div>
</div>
<a id="a2fd4b6a9143c1e339d381fc99cc8eb00" name="a2fd4b6a9143c1e339d381fc99cc8eb00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd4b6a9143c1e339d381fc99cc8eb00">&#9670;&#160;</a></span>m_NumberBucketsUntilNextPersist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t ml::api::CPersistenceManager::m_NumberBucketsUntilNextPersist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How many buckets left to process before attempting the next background persist? </p>

</div>
</div>
<a id="a6f0e6c35c504a2483fe79dfd828f1b8b" name="a6f0e6c35c504a2483fe79dfd828f1b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f0e6c35c504a2483fe79dfd828f1b8b">&#9670;&#160;</a></span>m_PeriodicPersistInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d73/namespaceml_1_1core__t.html#a5d7fb6f3aa7f598d7e095a44f04b3fc2">core_t::TTime</a> ml::api::CPersistenceManager::m_PeriodicPersistInterval</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How frequently should persistence be attempted? </p>

</div>
</div>
<a id="a68277d2518702d79642e2f24eb7e14cd" name="a68277d2518702d79642e2f24eb7e14cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68277d2518702d79642e2f24eb7e14cd">&#9670;&#160;</a></span>m_PersistFuncs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a3f6678e5e8078fddd349c93a1c4cb9be">TPersistFuncList</a> ml::api::CPersistenceManager::m_PersistFuncs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Functions to call to do persistence. </p>

</div>
</div>
<a id="a27126a3c7a29cb5239caf56c9f375248" name="a27126a3c7a29cb5239caf56c9f375248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27126a3c7a29cb5239caf56c9f375248">&#9670;&#160;</a></span>m_PersistInForeground</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ml::api::CPersistenceManager::m_PersistInForeground</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should persistence occur in the foreground? </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/api/<a class="el" href="../../d9/db1/_c_persistence_manager_8h_source.html">CPersistenceManager.h</a></li>
<li>lib/api/<a class="el" href="../../d1/dc4/_c_persistence_manager_8cc.html">CPersistenceManager.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
