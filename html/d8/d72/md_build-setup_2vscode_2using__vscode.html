<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ML C++: Using Visual Studio Code with &lt;tt&gt;ml-cpp&lt;/tt&gt;</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../ml.ico"/></td>
  <td id="projectalign">
   <div id="projectname">ML C++<span id="projectnumber">&#160;8.15.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Using Visual Studio Code with &lt;tt&gt;ml-cpp&lt;/tt&gt;</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md48">Prerequisites</a></li>
<li class="level1"><a href="#autotoc_md49">User tasks</a></li>
<li class="level1"><a href="#autotoc_md50">Debugging</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="autotoc_md47"></a></p>
<p>As an alternative to <a class="el" href="../../d5/d61/md_build-setup_2clion_2using__clion.html">CLion</a>, <code>VSCode</code> offers support for <code>CMake</code> projects by way of an extension, while still being able to provide features like autocompletion, code navigation, static code analysis, etc.</p>
<h1><a class="anchor" id="autotoc_md48"></a>
Prerequisites</h1>
<p>In this tutorial, we assume that you have <code>gcc</code> or <code>clang</code> installed as described in the <a class="el" href="../../d5/d61/md_build-setup_2clion_2using__clion.html">CLion tutorial</a>. and <a href="https://code.visualstudio.com/">Visual Studio Code</a> with <a href="https://marketplace.visualstudio.com/items?itemName=twxs.cmake">cmake plugin</a>, <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools">cmake tools plugin</a>, <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">C/C++ plugin</a> and <a href="https://marketplace.visualstudio.com/items?itemName=llvm-vs-code-extensions.vscode-clangd">clangd plugin</a> as a minimum.</p>
<p>In <b>Settings</b>, make sure <em>C_Cpp:Autocomplete</em> and <em>C_Cpp:Intelli Sense Engine</em> from the native C++ plugin of VS Code are disabled. Note that we don't want to disable the complete C/C++ Extension, since we are still going to use the debugging capabilities.</p>
<p>Now for the <code>CMake</code> plugin, change the <code>Build directory</code> specified in <b>Settings</b> &gt; <b>Extensions</b> &gt; <b>CMake Tools</b> to read <code>${workspaceFolder}/cmake-build-relwithdebinfo</code> (preferred) or <code>${workspaceFolder}/cmake-build-debug</code>, depending on the build variant that you can select in the side panel at the bottom of the editor window. You may also wish to set certain environment variables for the build. To do so, under <code>Cmake: Build Environment</code> click the <code>Add item</code> button and add the variable definition. The other settings can be left as-is.</p>
<p>The <code>clangd</code> plugin enables code completion and navigation among other features. In the clangd settings make sure <em>Clangd: Path</em> is the path to the clangd server and add the following to the <em>Clangd: Arguments</em>. </p><div class="fragment"><div class="line">-log=verbose</div>
<div class="line">-pretty</div>
<div class="line">--header-insertion=iwyu</div>
<div class="line">--suggest-missing-includes</div>
<div class="line">-j=4</div>
<div class="line">--all-scopes-completion</div>
<div class="line">--background-index=0</div>
<div class="line">--clang-tidy</div>
<div class="line">--compile-commands-dir=${workspaceFolder}/cmake-build-relwithdebinfo/</div>
</div><!-- fragment --><div class="image">
<img src="../../cmake_config.png" alt=""/>
<div class="caption">
CMake Config</div></div>
    <h1><a class="anchor" id="autotoc_md49"></a>
User tasks</h1>
<p>You can use <a href="https://code.visualstudio.com/docs/editor/tasks">user tasks</a> to integrate VS Code with external tools. For example, re-format the project using a the docker container with correct clang-format version or build just certain parts of the project.</p>
<p>Here is an example of user tasks specified in <code>tasks.json</code>:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;version&quot;: &quot;2.0.0&quot;,</div>
<div class="line">    &quot;tasks&quot;: [</div>
<div class="line">        {</div>
<div class="line">            &quot;label&quot;: &quot;CMake relwithdebinfo build&quot;,</div>
<div class="line">            &quot;type&quot;: &quot;shell&quot;,</div>
<div class="line">            &quot;command&quot;: &quot;cmake --build ${workspaceFolder}/cmake-build-relwithdebinfo -t install -v -j 10&quot;,</div>
<div class="line">            &quot;problemMatcher&quot;: [],</div>
<div class="line">            &quot;options&quot;: {</div>
<div class="line">                &quot;env&quot;: {</div>
<div class="line">                    &quot;PATH&quot;: &quot;${env:PATH}&quot;,</div>
<div class="line">                    &quot;CPP_SRC_HOME&quot;: &quot;${workspaceFolder}&quot;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            &quot;label&quot;: &quot;CMake build relwithdebinfo tests&quot;,</div>
<div class="line">            &quot;dependsOn&quot;: [</div>
<div class="line">                &quot;CMake relwithdebinfo build&quot;</div>
<div class="line">            ],</div>
<div class="line">            &quot;type&quot;: &quot;shell&quot;,</div>
<div class="line">            &quot;command&quot;: &quot;cmake --build ${workspaceFolder}/cmake-build-relwithdebinfo -t build_tests -v -j 10&quot;,</div>
<div class="line">            &quot;problemMatcher&quot;: [],</div>
<div class="line">            &quot;options&quot;: {</div>
<div class="line">                &quot;env&quot;: {</div>
<div class="line">                    &quot;PATH&quot;: &quot;${env:PATH}&quot;,</div>
<div class="line">                    &quot;CPP_SRC_HOME&quot;: &quot;${workspaceFolder}&quot;</div>
<div class="line">                }</div>
<div class="line">            },</div>
<div class="line">            &quot;group&quot;: {</div>
<div class="line">                &quot;kind&quot;: &quot;build&quot;,</div>
<div class="line">                &quot;isDefault&quot;: true</div>
<div class="line">            }</div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            &quot;label&quot;: &quot;CMake build relwithdebinfo test_core&quot;,</div>
<div class="line">            &quot;dependsOn&quot;: [</div>
<div class="line">                &quot;CMake relwithdebinfo build&quot;</div>
<div class="line">            ],</div>
<div class="line">            &quot;type&quot;: &quot;shell&quot;,</div>
<div class="line">            &quot;command&quot;: &quot;cmake --build ${workspaceFolder}/cmake-build-relwithdebinfo -t ml_test_core -v -j 10&quot;,</div>
<div class="line">            &quot;problemMatcher&quot;: [],</div>
<div class="line">            &quot;options&quot;: {</div>
<div class="line">                &quot;env&quot;: {</div>
<div class="line">                    &quot;PATH&quot;: &quot;${env:PATH}&quot;,</div>
<div class="line">                    &quot;CPP_SRC_HOME&quot;: &quot;${workspaceFolder}&quot;</div>
<div class="line">                }</div>
<div class="line">            },</div>
<div class="line">            &quot;group&quot;: {</div>
<div class="line">                &quot;kind&quot;: &quot;build&quot;,</div>
<div class="line">                &quot;isDefault&quot;: true</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md50"></a>
Debugging</h1>
<p>To use <a href="https://code.visualstudio.com/docs/editor/debugging">debugging</a>, you need to specify the binary and the arguments in a json file. You can use <code>preLaunchTask</code> to specify the user tasks that should be executed before the start (e.g. building project).</p>
<p>Here is an example of the <code>launch.json</code> file. Please update the fields for <code>targetArchitecture</code> and <code>MIMode</code> to values appropriate for your development platform.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;configurations&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_ver&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/lib/ver/unittest/ml_test_ver&quot;,</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/lib/ver/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_seccomp&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/lib/seccomp/unittest/ml_test_seccomp&quot;,</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/lib/seeccomp/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_core&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/lib/core/unittest/ml_test_core&quot;,</div>
<div class="line">      &quot;args&quot;: [&quot;--run_test=CProgNameTest/testProgName&quot;],</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/lib/core/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_model&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/lib/model/unittest/ml_test_model&quot;,</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/lib/model/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_api&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/lib/api/unittest/ml_test_api&quot;,</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/lib/api/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_maths_common&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/lib/maths/common/unittest/ml_test_maths_common&quot;,</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/lib/maths/common/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_maths_analytics&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/lib/maths/analytics/unittest/ml_test_maths_analytics&quot;,</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/lib/maths/analytics/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_maths_time_series&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/lib/maths/time_series/unittest/ml_test_maths_time_series&quot;,</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/lib/maths/time_series/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_controller&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/bin/controller/unittest/ml_test_controller&quot;,</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/bin/controller/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;C++ Launch test_pytorch_inference&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</div>
<div class="line">      &quot;targetArchitecture&quot;: &quot;arm64&quot;,</div>
<div class="line">      &quot;request&quot;: &quot;launch&quot;,</div>
<div class="line">      &quot;program&quot;: &quot;${workspaceFolder}/cmake-build-relwithdebinfo/test/bin/pytorch_inference/unittest/ml_test_pytorch_inference&quot;,</div>
<div class="line">      &quot;cwd&quot;: &quot;${workspaceRoot}/bin/pytorch_inference/unittest/&quot;,</div>
<div class="line">      &quot;stopAtEntry&quot;: false,</div>
<div class="line">      &quot;MIMode&quot;: &quot;lldb&quot;</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p>To run testsuites for a specific library click on the <code>Run and Debug</code> tab in the left handle panel and then select the desired <code>C++ launch</code> target from dropdown at the top of the <code>Run and Debug</code> panel, e.g. <img src="../../debug_test_case.png" alt="" class="inline" title="Run and Debug"/>    </p>
<p>To run a specific unit test add the test class/test name in the <code>args</code> field: </p><div class="fragment"><div class="line">&quot;args&quot;: [</div>
<div class="line">    &quot;--run_test=CProgNameTest/testProgName&quot;</div>
<div class="line">],</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
